CloudWatch Alarm avec Terraform
ğŸ¯ Objectif

Ce projet Terraform crÃ©e une alarme CloudWatch pour surveiller lâ€™utilisation CPU dâ€™une instance EC2 dans AWS.

âš™ï¸ Fonctionnement

Lâ€™alarme sâ€™appelle nautilus-alarm.

Elle surveille la mÃ©trique CPUUtilization de lâ€™instance EC2.

Si lâ€™utilisation CPU dÃ©passe 80% pendant 5 minutes (300 secondes), lâ€™alarme est dÃ©clenchÃ©e.

evaluation_periods = 1 : une seule pÃ©riode suffit pour dÃ©clencher lâ€™alarme.

ğŸš€ Ã‰tapes dâ€™utilisation

Cloner le projet.

Modifier la region et lâ€™AMI selon ton compte AWS.

Initialiser Terraform :

terraform init


VÃ©rifier le plan :

terraform plan


Appliquer la configuration :

terraform apply

ğŸ“Œ Points Importants

Si tu as dÃ©jÃ  une instance EC2 existante, enlÃ¨ve le bloc aws_instance et mets directement son InstanceId dans dimensions.

Lâ€™alarme ne fait quâ€™observer et dÃ©clencher une alerte, si tu veux recevoir un mail ou SMS, il faut ajouter une SNS notification.